<!doctype html>
<html ng-app="popup" ng-csp>
<head>
    <script src="angular.js"></script>
    <script src="popup.js"></script>
    <script src="tagtype.js"></script>
    <meta charset="UTF-8">
    <title>TagCounter</title>
    <link rel="stylesheet" href="popup.css"/>
</head>
<body ng-controller="TagCounterCtrl">
<ul id="settings">
    <li title="HTML5 elements like <article> and <main>">
        <input id="html5-checkbox" type="checkbox" ng-model="showType.html5" />
        <label for="html5-checkbox"><i class="icon html5"></i></label>
    </li>
    <li title="Good old HTML4 elements like <p> and <div>">
        <input id="html4-checkbox" type="checkbox" ng-model="showType.html4"/>
        <label for="html4-checkbox"><i class="icon html4"></i></label>
    </li>
    <li title="SVG elements like <circle> and <rect>">
        <input id="svg-checkbox" type="checkbox" ng-model="showType.svg" />
        <label for="svg-checkbox"><i class="icon svg"></i></label>
    </li>
    <li title="Unknown elements like Angular tags or Web Components">
        <input id="unknown-checkbox" type="checkbox" ng-model="showType.unknown" />
        <label for="unknown-checkbox"><i class="icon unknown"></i></label>
    </li>
    <li title="Obsolete tags like <center> and <applet>">
        <input id="obsolete-checkbox" type="checkbox" ng-model="showType.obsolete" />
        <label for="obsolete-checkbox"><i class="icon obsolete"></i></label>
    </li>
    <li title="W3C draft tags which are experimental">
        <input id="draft-checkbox" type="checkbox" ng-model="showType.draft" />
        <label for="draft-checkbox"><i class="icon draft"></i></label>
    </li>
    <li>|</li>
    <li><i class="clickable icon refresh" title="Refresh" ng-click="updateStats()"></i></li>
</ul>

<table>
    <thead>
    <tr>
        <th>
            <span class="clickable" ng-show="sortingComponent === 'name'" class="sort-icons">
                <i class="icon alphabetic-ascending"   ng-show="!isReversedSort" ng-click="isReversedSort = true"></i>
                <i class="icon alphabetic-descending" ng-show="isReversedSort"  ng-click="isReversedSort = false"></i>
            </span>
            <a href="javascript:void(0)" ng-click="sortingComponent = 'name'" title="Sort by tag name">Tags</a><br/>
            <span class="subtle-text" title="There are {{tagNumber}} tags in this page">{{tagNumber}}</span>
        </th>

        <th class="border-left" colspan="2">
            <span class="clickable" ng-show="sortingComponent === 'freq'" class="sort-icons">
                <i class="icon amount-ascending"  ng-show="!isReversedSort" ng-click="isReversedSort = true"></i>
                <i class="icon amount-descending" ng-show="isReversedSort"  ng-click="isReversedSort = false"></i>
            </span>
            <a href="javascript:void(0)" ng-click="sortingComponent = 'freq'" title="Sort by tag number">Count</a><br/>
            <span class="subtle-text" title="There are {{elementNumber}} elements in this page">{{elementNumber}}</span>
        </th>
    </tr>
    </thead>
    <tbody id="table-body">
    <!-- this will be filled in popup.js -->
    <tr class="tag-row"
        ng-repeat="tag in tags | orderBy:sortingComponent:isReversedSort"
        ng-show="showType.{{tag.type}}"
        ng-mouseenter="highlightTags(tag.name)"
        ng-mouseleave="unhighlight()" >
        <th title="{{tag.name}} is a {{tag.type}} tag">
            <i class="icon {{tag.type}} subtle-text"></i>
            <code>{{tag.name}}</code>
        </th>
        <td class="border-left" title="There are {{tag.freq}} <{{tag.name}}> tag(s)">
            {{tag.freq}}
        </td>
        <td class="border-left" title="{{tag.percent}}% of all page elements are <{{tag.name}}>">
            <div class="bar-container">
                <div class="bar" style="width:{{tag.percent}}%;"></div>
            </div>
        </td>
    </tr>
    </tbody>
</table>
</body>
</html>