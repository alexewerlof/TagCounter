var app=angular.module("popup",["ngAnimate"]);app.constant("chrome",chrome),app.constant("chromea",{tabs:{query:function(e,n){n([1])},sendMessage:function(e,n,t){t(["html","body","a","a"])}}}),app.factory("getTabId",["chrome",function(e){var n;return function(t){n?t(n):e.tabs.query({active:!0,currentWindow:!0},function(e){n=e[0].id,t(n)})}}]),app.factory("sendMessage",["chrome","getTabId",function(e,n){return function(t,o){n(function(n){e.tabs.sendMessage(n,t,o||angular.noop)})}}]),app.controller("TagCounterCtrl",["$scope","sendMessage","tagType",function(e,n,t){e.tagTypes={html5:{show:!0,count:0,desc:"HTML5 elements like <article> and <main>"},html4:{show:!0,count:0,desc:"Good old HTML4 elements like <p> and <div>"},svg:{show:!0,count:0,desc:"SVG elements like <circle> and <rect>"},unknown:{show:!0,count:0,desc:"Unknown elements like Angular tags or Web Components"},obsolete:{show:!0,count:0,desc:"Obsolete tags like <center> and <applet>"},draft:{show:!0,count:0,desc:"W3C draft tags which are experimental"}},e.elementNumber=0,e.tagNumber=0,e.sortingComponent="name",e.isReversedSort=!1,e.tags=[],e.headerClicked=function(n){e.sortingComponent===n?e.isReversedSort=!e.isReversedSort:e.sortingComponent=n},e.updateStats=function(){n({fname:"getAllElements"},function(n){e.elementNumber=n.length;var o=n.reduce(function(e,n){return e[n]=(0|e[n])+1,e},{});e.tagNumber=Object.keys(o).length;var a=[];for(var s in o)o.hasOwnProperty(s)&&a.push({name:s,freq:o[s],percent:(100*o[s]/n.length).toFixed(2),type:t(s)});e.tags=a,e.$apply()})},e.updateStats(),e.isTagShown=function(n){return e.tagTypes[n.type].show},e.highlightTags=function(e){n({fname:"highlightTags",args:[e]})},e.unhighlight=function(){n({fname:"unhighlight"})}}]);